{"ast":null,"code":"import React, { Component } from \"react\";\nimport { Redirect, Link } from \"react-router-dom\";\nexport const read = (textId, token) => {\n  return fetch(`${process.env.REACT_APP_API_URL}/rating/${textId}`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    }\n  }).then(response => {\n    return response.json();\n  }).catch(err => console.log(err));\n};\n\nclass RateTextbyId extends Component {\n  constructor() {\n    super();\n\n    this.init = textId => {\n      const token = isAuthenticated().token;\n      read(textId, token).then(data => {\n        if (data.error) {\n          this.setState({\n            redirectToSignin: true\n          });\n        } else {\n          this.setState({\n            text: data\n          });\n        }\n      });\n    };\n\n    this.state = {\n      id: \"\",\n      error: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const textId = this.props.match.params.textId;\n    this.init(textId);\n  }\n\n  render() {}\n\n}\n\nexport default RateTextbyId;","map":{"version":3,"sources":["/mnt/c/Users/noemie/Desktop/prowriterating/front/src/components/RateTextbyId.js"],"names":["React","Component","Redirect","Link","read","textId","token","fetch","process","env","REACT_APP_API_URL","method","headers","Accept","Authorization","then","response","json","catch","err","console","log","RateTextbyId","constructor","init","isAuthenticated","data","error","setState","redirectToSignin","text","state","id","componentDidMount","props","match","params","render"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,QAAR,EAAkBC,IAAlB,QAA6B,kBAA7B;AAGA,OAAO,MAAMC,IAAI,GAAG,CAACC,MAAD,EAASC,KAAT,KAAmB;AACnC,SAAOC,KAAK,CAAE,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,WAAUL,MAAO,EAAnD,EAAsD;AAC9DM,IAAAA,MAAM,EAAE,KADsD;AAE9DC,IAAAA,OAAO,EAAE;AACLC,MAAAA,MAAM,EAAE,kBADH;AAEL,sBAAgB,kBAFX;AAGLC,MAAAA,aAAa,EAAG,UAASR,KAAM;AAH1B;AAFqD,GAAtD,CAAL,CAQFS,IARE,CAQGC,QAAQ,IAAI;AAEd,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,GAXE,EAYFC,KAZE,CAYIC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAZX,CAAP;AAaH,CAdM;;AAiBP,MAAMG,YAAN,SAA2BrB,SAA3B,CAAqC;AACjCsB,EAAAA,WAAW,GAAG;AACZ;;AADY,SAQdC,IARc,GAQPnB,MAAM,IAAI;AACb,YAAMC,KAAK,GAAGmB,eAAe,GAAGnB,KAAhC;AACAF,MAAAA,IAAI,CAACC,MAAD,EAASC,KAAT,CAAJ,CAAoBS,IAApB,CAAyBW,IAAI,IAAI;AAC/B,YAAIA,IAAI,CAACC,KAAT,EAAgB;AACd,eAAKC,QAAL,CAAc;AAAEC,YAAAA,gBAAgB,EAAE;AAApB,WAAd;AACD,SAFD,MAEO;AACL,eAAKD,QAAL,CAAc;AAAEE,YAAAA,IAAI,EAAEJ;AAAR,WAAd;AACD;AACF,OAND;AAOD,KAjBW;;AAEZ,SAAKK,KAAL,GAAa;AACXC,MAAAA,EAAE,EAAE,EADO;AAEXL,MAAAA,KAAK,EAAE;AAFI,KAAb;AAID;;AAcDM,EAAAA,iBAAiB,GAAG;AAClB,UAAM5B,MAAM,GAAG,KAAK6B,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwB/B,MAAvC;AACA,SAAKmB,IAAL,CAAUnB,MAAV;AACD;;AAGDgC,EAAAA,MAAM,GAAG,CAER;;AA7BgC;;AAgCnC,eAAef,YAAf","sourcesContent":["import React, {Component} from \"react\";\nimport {Redirect, Link} from \"react-router-dom\";\n\n\nexport const read = (textId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/rating/${textId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\nclass RateTextbyId extends Component {\n    constructor() {\n      super();\n      this.state = {\n        id: \"\",\n        error: \"\"\n      };\n    }\n\n    init = textId => {\n        const token = isAuthenticated().token;\n        read(textId, token).then(data => {\n          if (data.error) {\n            this.setState({ redirectToSignin: true });\n          } else {\n            this.setState({ text: data });\n          }\n        })\n      };\n  \n  \n    componentDidMount() {\n      const textId = this.props.match.params.textId;\n      this.init(textId);\n    }\n  \n  \n    render() {\n    \n    }\n}\n  \n  export default RateTextbyId;\n  "]},"metadata":{},"sourceType":"module"}