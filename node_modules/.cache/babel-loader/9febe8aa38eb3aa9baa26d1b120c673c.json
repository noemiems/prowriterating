{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/c/Users/noemie/Desktop/prowriterating/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/c/Users/noemie/Desktop/prowriterating/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/mnt/c/Users/noemie/Desktop/prowriterating/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/c/Users/noemie/Desktop/prowriterating/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/mnt/c/Users/noemie/Desktop/prowriterating/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/c/Users/noemie/Desktop/prowriterating/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,useState}from'react';import Select from'react-select';import axios from'axios';import'bootstrap/dist/css/bootstrap.min.css';import Textform from'./textlevelform';import ParagraphLevel from'./paragraphlevelform';import NavigateBeforeIcon from'@material-ui/icons/NavigateBefore';import NavigateNextIcon from'@material-ui/icons/NavigateNext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dropdown=/*#__PURE__*/function(_Component){_inherits(Dropdown,_Component);var _super=_createSuper(Dropdown);function Dropdown(props){var _this;_classCallCheck(this,Dropdown);_this=_super.call(this,props);_this.handleCategoryChange=function(e){_this.setState({category:e.target.value});};_this.state={selectOptions:[],id:\"\",title:'',text:'',paragraphnum:'',category:'',rater:\"\",count:1};return _this;}_createClass(Dropdown,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){this.setState({rater:nextProps.rater});}},{key:\"getOptions\",value:function(){var _getOptions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data,options;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://textratingtool.herokuapp.com/rating');case 2:res=_context.sent;data=res.data;options=data.map(function(d){return{\"value\":d._id,\"label\":d.title,\"content\":d.text,\"paragraphnum\":d.paragraphnum};});this.setState({selectOptions:options});case 6:case\"end\":return _context.stop();}}},_callee,this);}));function getOptions(){return _getOptions.apply(this,arguments);}return getOptions;}()},{key:\"onClickPrevious\",value:function onClickPrevious(){if(this.state.count>1){this.setState({count:this.state.count-1});}}},{key:\"onClickNext\",value:function onClickNext(){if(this.state.count<this.state.paragraphnum){this.setState({count:this.state.count+1});}}},{key:\"handleChange\",value:function handleChange(e){this.setState({id:e.value,title:e.label,text:e.content,paragraphnum:e.paragraphnum,rater:e.rater});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getOptions();}},{key:\"render\",value:function render(){var entiretext=this.state.text;var splittedtext=entiretext.split(/\\r?\\n/);var filteredtext=splittedtext.filter(function(item){return item;});var currentparagraph=filteredtext[this.state.count-1];console.log(this.state.selectOptions);if(this.state.id)return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",style:{backgroundColor:\"white\"},children:[/*#__PURE__*/_jsx(Select,{placeholder:\"Please choose text\",options:this.state.selectOptions,onChange:this.handleChange.bind(this),style:{backgroundColor:'white'}}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:'5%',backgroundColor:'white'},children:/*#__PURE__*/_jsx(\"strong\",{children:this.state.title})}),/*#__PURE__*/_jsx(\"p\",{children:this.state.category===\"Text level\"&&/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'5%',whiteSpace:\"pre-line\",backgroundColor:'white',fontSize:'80%'},children:this.state.text})}),/*#__PURE__*/_jsx(\"p\",{children:this.state.category===\"Paragraph level\"&&/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'5%',backgroundColor:'white',fontSize:'80%'},children:currentparagraph})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box\",style:{backgroundColor:\"white\"},children:[/*#__PURE__*/_jsxs(\"select\",{style:{backgroundColor:'white'},name:\"category\",onChange:this.handleCategoryChange.bind(this),children:[/*#__PURE__*/_jsx(\"option\",{style:{backgroundColor:'white'},id:\"0\",children:\"Paragraph level\"}),/*#__PURE__*/_jsx(\"option\",{style:{backgroundColor:'white'},id:\"1\",children:\"Text level\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[this.state.category===\"Paragraph level\"&&/*#__PURE__*/_jsx(ParagraphLevel,{onClickPrevious:this.onClickPrevious.bind(this),onClickNext:this.onClickNext.bind(this),count:this.state.count,title:this.state.title,text:this.state.text,rater:this.state.rater,paragraphnum:this.state.paragraphnum}),\" \"]}),/*#__PURE__*/_jsx(\"p\",{children:this.state.category===\"Text level\"&&/*#__PURE__*/_jsx(Textform,{title:this.state.title,rater:this.state.rater,paragraphnum:this.state.paragraphnum})})]})})]})});else{return/*#__PURE__*/_jsx(\"div\",{style:{width:'20%',marginLeft:'40%',marginTop:'5%'},children:/*#__PURE__*/_jsx(Select,{placeholder:\"Please choose text\",options:this.state.selectOptions,onChange:this.handleChange.bind(this)})});}}}]);return Dropdown;}(Component);;export default Dropdown;","map":{"version":3,"sources":["/mnt/c/Users/noemie/Desktop/prowriterating/front/src/components/dropdown.js"],"names":["React","Component","useState","Select","axios","Textform","ParagraphLevel","NavigateBeforeIcon","NavigateNextIcon","Dropdown","props","handleCategoryChange","e","setState","category","target","value","state","selectOptions","id","title","text","paragraphnum","rater","count","nextProps","get","res","data","options","map","d","_id","label","content","getOptions","entiretext","splittedtext","split","filteredtext","filter","item","currentparagraph","console","log","backgroundColor","handleChange","bind","marginTop","whiteSpace","fontSize","onClickPrevious","onClickNext","width","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\nimport Select from 'react-select';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Textform from './textlevelform';\nimport ParagraphLevel from './paragraphlevelform';\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\n\n\n\nclass Dropdown extends Component {\n\n  constructor(props){\n    super(props)\n    this.state = {\n      selectOptions : [],\n      id: \"\",\n      title: '',\n      text: '',\n      paragraphnum: '',\n      category: '',\n      rater: \"\",\n      count:1\n    };\n\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ rater: nextProps.rater });  \n  }\n\n async getOptions(){\n    const res = await axios.get('https://textratingtool.herokuapp.com/rating')\n    const data = res.data\n\n    const options = data.map(d => ({\n      \"value\" : d._id,\n      \"label\" : d.title,\n      \"content\": d.text,\n      \"paragraphnum\": d.paragraphnum,\n    }))\n\n    this.setState({selectOptions: options})\n  }\n\n  onClickPrevious(){\n    if (this.state.count > 1) {\n      this.setState({\n        count: this.state.count - 1\n      });\n    }\n}\n\n  onClickNext(){\n    if (this.state.count < this.state.paragraphnum) {\n      this.setState({\n        count: this.state.count + 1\n      });\n    }\n}\n\n  handleChange(e){\n   this.setState({id:e.value, title:e.label, text:e.content, paragraphnum:e.paragraphnum, rater:e.rater})\n   }\n\n  handleCategoryChange = (e) => {\n    this.setState({category:e.target.value})\n}\n\n  componentDidMount(){\n      this.getOptions()\n    }\n\n\n  render() {\n    let entiretext = this.state.text;\n    let splittedtext = entiretext.split(/\\r?\\n/);\n    let filteredtext = splittedtext.filter(item => item);\n    let currentparagraph = filteredtext[this.state.count-1];\n\n    console.log(this.state.selectOptions)\n  \n    if (this.state.id) \n     return (\n      <div className=\"container\" >\n  \n                <div className=\"row\">\n            <div className=\"col\">\n            <div className=\"box\" style={{backgroundColor:\"white\"}}>\n              \n    < Select placeholder=\"Please choose text\" options={this.state.selectOptions} onChange={this.handleChange.bind(this)} style={{backgroundColor:'white'}} />\n     <h3 style={{marginTop:'5%', backgroundColor:'white'}}><strong>{this.state.title}</strong></h3>\n     <p>{this.state.category === \"Text level\" && (\n        <p style={{marginTop:'5%', whiteSpace:\"pre-line\", backgroundColor:'white', fontSize:'80%'}}>{this.state.text}</p>)}</p>\n        <p>{this.state.category === \"Paragraph level\" && (\n        <p style={{marginTop:'5%', backgroundColor:'white', fontSize:'80%'}}>{currentparagraph}</p>)}</p>\n            </div>\n            </div>\n            <div className=\"col\">\n            <div className=\"box\" style={{backgroundColor:\"white\"}}>\n        <select  style={{backgroundColor:'white'}} name=\"category\" onChange={this.handleCategoryChange.bind(this)}>\n            <option style={{backgroundColor:'white'}} id=\"0\" >Paragraph level</option>\n            <option style={{backgroundColor:'white'}} id=\"1\" >Text level</option>\n        </select>\n        \n        <p>{this.state.category === \"Paragraph level\" && ( \n        <ParagraphLevel onClickPrevious={this.onClickPrevious.bind(this)} onClickNext={this.onClickNext.bind(this)} count={this.state.count} title={this.state.title} text={this.state.text} rater={this.state.rater} paragraphnum={this.state.paragraphnum} />)} </p>\n        <p>{this.state.category === \"Text level\" && (\n        <Textform \n        title={this.state.title} \n        rater={this.state.rater} \n        paragraphnum={this.state.paragraphnum} \n        />)}</p>\n    </div>\n    </div>\n     </div>\n     </div>)\n    else {\n    return (\n      <div style={{width:'20%', marginLeft:'40%', marginTop:'5%'}}>\n      < Select placeholder=\"Please choose text\" options={this.state.selectOptions} onChange={this.handleChange.bind(this)} />\n      </div>\n    )}  \n}\n};\n\nexport default Dropdown;\n\n"]},"metadata":{},"sourceType":"module"}